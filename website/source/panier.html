<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="cart_page.title">Votre Panier - Maison Trüvra</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/panier.css"> <!-- Specific styles for cart page -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body id="page-panier">
    <div id="main-header-placeholder"></div>

    <main class="container mx-auto px-4 py-8 mt-20 md:mt-24 lg:mt-28">
        <header class="page-header mb-8 md:mb-12 text-center">
            <h1 class="text-4xl md:text-5xl font-bold page-title" data-translate-key="cart_page.main_title">Votre Panier d'Achat</h1>
        </header>

        <div id="cart-content" class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <div id="empty-cart-message" class="text-center py-10 hidden">
                <i class="fas fa-shopping-cart text-6xl text-mt-warm-taupe mb-4"></i>
                <h2 class="text-2xl mb-3 section-title" data-translate-key="cart_page.empty_cart_title">Votre panier est vide.</h2>
                <p class="text-mt-earth-brown mb-6 font-primary" data-translate-key="cart_page.empty_cart_subtitle">Parcourez nos collections pour trouver des trésors truffés.</p>
                <a href="nos-produits.html" class="btn btn-primary" data-translate-key="cart_page.continue_shopping">Continuer vos achats</a>
            </div>

            <div id="cart-table-and-summary">
                <div class="cart-table-container overflow-x-auto mb-8">
                    <table class="cart-table w-full text-left">
                        <thead class="font-primary">
                            <tr class="border-b-2 border-mt-warm-taupe">
                                <th class="py-3 px-2 md:px-4 font-semibold text-mt-near-black uppercase tracking-wider" data-translate-key="cart_page.table.product">Produit</th>
                                <th class="py-3 px-2 md:px-4 font-semibold text-mt-near-black uppercase tracking-wider text-center" data-translate-key="cart_page.table.price">Prix</th>
                                <th class="py-3 px-2 md:px-4 font-semibold text-mt-near-black uppercase tracking-wider text-center" data-translate-key="cart_page.table.quantity">Quantité</th>
                                <th class="py-3 px-2 md:px-4 font-semibold text-mt-near-black uppercase tracking-wider text-right" data-translate-key="cart_page.table.total">Total</th>
                                <th class="py-3 px-2 md:px-4 font-semibold text-mt-near-black uppercase tracking-wider text-right" data-translate-key="cart_page.table.actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="cart-items-container" class="font-primary">
                            <!-- Cart items will be populated here by js/cart.js -->
                        </tbody>
                    </table>
                </div>

                <div class="cart-summary-section grid md:grid-cols-2 gap-8 items-start">
                    <div class="coupon-section">
                        <h3 class="text-xl mb-3 font-serif" data-translate-key="cart_page.summary.coupon_code">Code de Réduction</h3>
                        <form id="coupon-form" class="flex gap-2">
                            <label for="coupon-code" class="sr-only" data-translate-key="cart_page.summary.coupon_label">Code Coupon</label>
                            <input type="text" id="coupon-code" placeholder="Entrez votre code" class="form-input flex-grow" data-translate-placeholder="cart_page.summary.coupon_placeholder">
                            <button type="submit" class="btn btn-secondary" data-translate-key="cart_page.summary.apply_coupon">Appliquer</button>
                        </form>
                        <p id="coupon-message" class="text-xs mt-2 font-primary"></p>
                    </div>

                    <div class="cart-totals bg-mt-cream p-6 rounded-md shadow">
                        <h2 class="text-2xl mb-6 text-center section-title" data-translate-key="cart_page.summary.title">Récapitulatif</h2>
                        <div class="space-y-3 font-primary">
                            <div class="flex justify-between text-lg">
                                <span data-translate-key="cart_page.summary.subtotal">Sous-total :</span>
                                <span id="cart-summary-subtotal" class="font-semibold">€0.00</span>
                            </div>
                            <div class="flex justify-between text-lg">
                                <span data-translate-key="cart_page.summary.shipping">Livraison :</span>
                                <span id="cart-summary-shipping" class="font-semibold" data-translate-key="cart_page.summary.shipping_calculated">Calculée à la caisse</span>
                            </div>
                            <hr class="my-3 border-mt-warm-taupe">
                            <div class="flex justify-between text-xl font-bold text-mt-near-black">
                                <span data-translate-key="cart_page.summary.total_amount">Total :</span>
                                <span id="cart-summary-total">€0.00</span>
                            </div>
                        </div>
                        <a href="payment.html" id="checkout-button-cart-page" class="btn btn-primary w-full mt-6 py-3 text-lg" data-translate-key="cart_page.summary.proceed_to_checkout">
                            Passer à la Caisse <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                 <div class="text-center mt-8">
                    <button id="clear-cart-btn-page" class="btn btn-outline text-sm" data-translate-key="cart_page.clear_cart">
                        <i class="fas fa-times-circle mr-2"></i> Vider le Panier
                    </button>
                </div>
            </div>
        </div>
    </main>

    <div id="main-footer-placeholder"></div>
    <div id="cart-toast-placeholder" class="fixed bottom-5 right-5 z-50"></div>
    <div id="global-message-container" class="fixed top-20 right-5 z-[1000] w-auto max-w-sm"></div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
    <!-- Specific JS for cart page if any, but most logic is in cart.js -->
</body>
</html>
